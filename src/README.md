# ğŸ‡¸ğŸ‡¦ Saudi Roads Management System

<div dir="rtl">

## ğŸŒŸ Overview

Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø·Ø±Ù‚ ÙˆØ§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŒ Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø·Ø±Ù‚.

**Project Name**: Management Road Projects  
**Package Name**: `management-road-projects`  
**Version**: 1.0.0  
**Status**: âœ… Production Ready

âš ï¸ **Ù…Ù‡Ù…**: Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙŠØ³ØªØ®Ø¯Ù… **Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·** Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ GitHub ÙˆVercel ÙˆØ£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰.

### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
- âœ… **4 Ù…Ø³ØªÙˆÙŠØ§Øª ØµÙ„Ø§Ø­ÙŠØ§Øª** (Ù…Ø¯ÙŠØ± Ø¹Ø§Ù…ØŒ Ù…Ø¯ÙŠØ± Ù…Ø´Ø±ÙˆØ¹ØŒ Ù…Ù‡Ù†Ø¯Ø³ØŒ Ù…Ø±Ø§Ù‚Ø¨)
- âœ… **Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ…** Ø¨Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø­ÙŠØ© ÙˆØ±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ©
- âœ… **Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´Ø§Ø±ÙŠØ¹ Ø´Ø§Ù…Ù„Ø©** (15+ Ø­Ù‚Ù„ Ù„ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¹)
- âœ… **ØªÙ‚Ø§Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠØ© ØªÙØµÙŠÙ„ÙŠØ©** Ù…Ø¹ Ø±ÙØ¹ ØµÙˆØ± Ù…ØªØ¹Ø¯Ø¯Ø©
- âœ… **Ø¨Ù†ÙˆØ¯ ØªÙ‚Ø±ÙŠØ± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙƒØ±Ø§Ø±** (Ø¹Ø¯Ø¯ ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯)
- âœ… **Ø±Ø¨Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠ** Ø¨ÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- âœ… **Ù†Ø¸Ø§Ù… ØªØ±Ø¬Ù…Ø© Ø´Ø§Ù…Ù„** (Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
- âœ… **Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ** Ø§Ù„ÙƒØ§Ù…Ù„
- âœ… **ØªØµÙ…ÙŠÙ… Responsive** Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª
- âœ… **Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ AI** Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

</div>

---

## ğŸš€ Quick Start

### Prerequisites
- Node.js 18+
- npm or yarn
- Supabase account ([Create one here](https://supabase.com))

### Installation

```bash
# Clone the repository
git clone https://github.com/YOUR_USERNAME/management-road-projects.git
cd management-road-projects

# Install dependencies
npm install

# Set up environment variables
cp .env.example .env
# Edit .env with your Supabase credentials

# Run development server
npm run dev
```

---

## ğŸ—ï¸ Architecture

### Tech Stack

#### Frontend:
- **React 18** - UI Library
- **TypeScript** - Type Safety
- **Tailwind CSS v4** - Styling
- **Shadcn/UI** - Component Library
- **Recharts** - Charts & Graphs
- **Motion/React** - Animations
- **Sonner** - Toast Notifications

#### Backend:
- **Supabase** - Database & Auth
- **Supabase Edge Functions** - API
- **Supabase Storage** - File Storage
- **Hono** - Web Framework (for Edge Functions)

#### Fonts:
- **Cairo** & **Tajawal** - Arabic
- **Poppins** & **Inter** - English

---

## ğŸ“ Project Structure

```
/
â”œâ”€â”€ App.tsx                          # Main entry point
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ AuthContext.tsx             # Authentication
â”‚   â”œâ”€â”€ ThemeProvider.tsx           # Theme & i18n
â”‚   â”œâ”€â”€ Dashboard.tsx               # Dashboard page
â”‚   â”œâ”€â”€ ProjectsPage.tsx            # Projects management
â”‚   â”œâ”€â”€ ProjectFormNew.tsx          # Enhanced project form
â”‚   â”œâ”€â”€ DailyReportsPage.tsx        # Daily reports
â”‚   â”œâ”€â”€ ReportsPage.tsx             # Advanced reports
â”‚   â”œâ”€â”€ AIAssistant.tsx             # AI assistant
â”‚   â”œâ”€â”€ translations.ts             # i18n (200+ translations)
â”‚   â””â”€â”€ ui/                         # Shadcn components (50+)
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.css                 # Global styles (750+ lines)
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ supabase/
â”‚       â””â”€â”€ info.tsx                # Supabase config
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ functions/
â”‚       â””â”€â”€ server/
â”‚           â”œâ”€â”€ index.tsx           # API routes
â”‚           â””â”€â”€ kv_store.tsx        # Key-Value store
â””â”€â”€ Documentation files (15+)
```

---

## ğŸ¨ Design System

### Colors (Saudi Green & Gold)

```css
/* Light Mode */
--primary: #006C35;           /* Saudi Green */
--secondary: #FDB714;         /* Gold */
--accent-mountain: #2D5016;   /* Mountain Green */

/* Dark Mode */
--primary: #00d46a;           /* Light Green */
--secondary: #FFD046;         /* Light Gold */
```

### Fonts

```css
/* Arabic */
font-family: 'Cairo', 'Tajawal', system-ui, sans-serif;

/* English */
font-family: 'Poppins', 'Inter', system-ui, sans-serif;
```

---

## ğŸ” User Roles & Permissions

### 1. General Manager (Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…)
- âœ… Full access to all features
- âœ… Create/Edit/Delete projects
- âœ… View all reports
- âœ… Approve reports
- âœ… Manage users

### 2. Project Manager (Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
- âœ… Create/Edit projects
- âœ… Create daily reports
- âœ… Approve reports
- âœ… View assigned projects only

### 3. Engineer (Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³)
- âœ… View projects
- âœ… Create daily reports
- âœ… Edit own reports only

### 4. Observer (Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨)
- âœ… View projects (read-only)
- âœ… View reports (read-only)
- âŒ Cannot edit or create

---

## ğŸ“Š Features

### 1. Dashboard
- Real-time statistics
- Interactive charts (Recharts)
- Recent activities
- Project status distribution

### 2. Project Management (15 Fields)
1. Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Project Name)
2. Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Project Type - Text)
3. Ø§Ù„Ù…Ù†Ø·Ù‚Ø© (Region - Text)
4. Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯ (Contract Number)
5. ÙˆØµÙ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Description)
6. Ù…Ø¯Ø© Ø§Ù„ØªÙ†ÙÙŠØ° (Duration in Months)
7. Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Project Value)
8. Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© (Budget)
9. Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Actual Progress %)
10. Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø®Ø·Ø·Ø© (Planned Progress %)
11. **Ø§Ù„ÙØ±Ù‚ (Deviation - Auto-calculated)**
12. Ø§Ù„Ø­Ø§Ù„Ø© (Status)
13. ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ (Start Date)
14. ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (End Date)
15. Ø±ÙØ¹ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª (File Uploads)

**Special Feature**: Deviation auto-calculates with dynamic colors:
- ğŸŸ¢ Green: Ahead of schedule
- ğŸ”´ Red: Behind schedule
- âš« Gray: On schedule

### 3. Daily Reports
- **Auto-linked Project Info Header**:
  - Project Type (auto)
  - Region (auto)
  - Contract Number (auto)
  - Project Name (auto)
  - Location (auto)

- **Report Fields**:
  - Date
  - Work Description
  - Daily Progress %
  - Number of Workers
  - Equipment Used
  - Notes & Issues
  - Photo Uploads

- **Repeatable Report Items**:
  - Item Number
  - Item Name
  - Item Type
  - Attachment/Photo per item
  - Add/Remove unlimited items

### 4. Advanced Reports
- Performance Report
- Financial Report
- Productivity Report
- Safety Report
- Quality Report
- Export to PDF & Excel

### 5. AI Assistant
- Answer questions
- General guidance
- Arabic/English support

---

## ğŸŒ Internationalization (i18n)

### Supported Languages:
- ğŸ‡¸ğŸ‡¦ **Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)** - RTL
- ğŸ‡ºğŸ‡¸ **English** - LTR

### Features:
- âœ… 200+ translations
- âœ… Language toggle button
- âœ… Auto RTL/LTR direction
- âœ… Global context

### Usage:
```typescript
const { t, language } = useTheme();

// Basic
{t('projects', 'Projects')}

// With key from translations.ts
{t('totalProjects', 'Total Projects')}
```

---

## ğŸ”§ Environment Variables

Create a `.env` file:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_anon_key
```

For Edge Functions, set in Supabase Dashboard:
```env
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

---

## ğŸ“¡ API Routes

All routes are prefixed with `/make-server-92709448`:

### Authentication:
- `POST /signup` - Sign up new user

### Projects:
- `POST /projects` - Create project
- `GET /projects` - Get all projects
- `PUT /projects/:id` - Update project
- `DELETE /projects/:id` - Delete project

### Reports:
- `POST /reports` - Create report
- `GET /reports` - Get all reports
- `PUT /reports/:id` - Update report
- `DELETE /reports/:id` - Delete report

### Files:
- `POST /upload` - Upload file

### Stats:
- `GET /stats` - Get statistics

---

## ğŸ§ª Testing

### Manual Testing Checklist:

```bash
âœ… Create new project (15 fields)
âœ… Auto-calculate deviation
âœ… Dynamic deviation colors
âœ… Save project â†’ Toast notification
âœ… Open daily report
âœ… Auto-populate project info in header
âœ… Add multiple report items
âœ… Remove report item
âœ… Upload files
âœ… Switch language (AR â†” EN)
âœ… Toggle dark mode
âœ… Test on mobile/tablet/desktop
```

---

## ğŸš€ Deployment

### Deploy to Vercel:

1. Push code to GitHub
2. Import project in Vercel
3. Add environment variables
4. Deploy!

```bash
# Build command
npm run build

# Output directory
dist
```

### Deploy Supabase Edge Functions:

```bash
# Install Supabase CLI
npm install -g supabase

# Login
supabase login

# Link project
supabase link --project-ref YOUR_PROJECT_REF

# Deploy function
supabase functions deploy make-server-92709448
```

---

## ğŸ“š Documentation

### Complete Documentation Files:
- `/IMPLEMENTATION_COMPLETE.md` - Full implementation guide
- `/TEST_CHECKLIST_AR.md` - Testing checklist (Arabic)
- `/ENHANCEMENTS_COMPLETED.md` - All enhancements
- `/FINAL_SUMMARY_AR.md` - Final summary (Arabic)
- `/README_DEV.md` - Developer quick guide
- `/PRE_DEPLOYMENT_CHECKLIST.md` - Pre-deployment checklist
- `/USER_GUIDE_AR.md` - User guide (Arabic)
- `/API_DOCUMENTATION.md` - API documentation

---

## ğŸ› Known Issues

None! âœ… The system is fully tested and production-ready.

---

## ğŸ¤ Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“„ License

Â© 2025 General Authority for Roads - Kingdom of Saudi Arabia

---

## ğŸ‘¥ Team

Developed with â¤ï¸ for the General Authority for Roads

---

## ğŸ“ Support

For support, please contact:
- ğŸ“§ Email: support@roads.gov.sa
- ğŸ“ Phone: +966-XX-XXXXXXX

---

## ğŸ‰ Status

**Version**: 1.0.0  
**Status**: âœ… Production Ready  
**Last Updated**: November 7, 2025

---

<div align="center">

### ğŸ‡¸ğŸ‡¦ **Kingdom of Saudi Arabia**
### **General Authority for Roads**

**Built with modern web technologies**  
**React â€¢ TypeScript â€¢ Tailwind â€¢ Supabase**

â­ **Star this repository if you find it useful!** â­

</div>